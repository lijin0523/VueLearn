<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta http-equiv="Content-Type" content="text/html" charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="author" content="jalasmart">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title></title>
</head>

<body>
    <div id="app">
        <fieldset>
            <legend>学生录入系统</legend>
            <div>
                <label for="">姓名：</label>
                <input type="text" v-model="newStudent.name" placeholder="请输入姓名">
            </div>
            <div>
                <label for="">年龄：</label>
                <input type="text" v-model="newStudent.age" placeholder="请输入年龄">
            </div>
            <div>
                <label for="">性别：</label>
                <select v-model="newStudent.sex">
                    <option value="男">男</option>
                    <option value="女">女</option>
                </select>
            </div>
            <div>
                <label for="">手机号码：</label>
                <input type="text" v-model="newStudent.phone" placeholder="请输入手机号码">
            </div>
            <button @click="creatNewStudent()">创建新用户</button>
        </fieldset>
        <table>
            <thead>
                <th>姓名</th>
                <th>年龄</th>
                <th>性别</th>
                <th>手机号</th>
                <th>删除</th>
            </thead>
            <tbody>
                <tr v-for="(p,index) in persons">
                    <td>{{p.name}}</td>
                    <td>{{p.age}}</td>
                    <td>{{p.sex}}</td>
                    <td>{{p.phone}}</td>
                    <td><button @click="deleteStudentMsg(index)">删除</button></td>
                </tr>
            </tbody>
        </table>
    </div>
    <script src="dist/vue.js"></script>
</body>
<script>
    new Vue({
        el: '#app',
        data: {
            persons: [
                { name: '张三', age: '20',sex:'男', phone: '1888899998' },
                { name: 'lisa', age: '30',sex:'男', phone: '1833333388' },
                { name: '王五', age: '25',sex:'女', phone: '1866688888' },
                { name: '刘凯', age: '50',sex:'女', phone: '1855558888' }
            ],
            newStudent :{ name: '', age: '',sex:'', phone: '' }
        },
        methods:{
            //创建新纪录
            creatNewStudent(){
                //姓名不能为空
                if(this.newStudent.name === ''){
                    alert('姓名不能为空')
                    return;
                }
                if(this.newStudent.age === '' || this.newStudent.age <= 0){
                    alert('请输入正确的年龄')
                    return;
                }
                if(this.newStudent.phone === ''){
                    alert('请输入正确的手机号')
                    return;
                }
                //往数组新添加一条记录
                this.persons.unshift(this.newStudent)
                //清空数据
                this.newStudent={ name: '', age: '',sex:'', phone: '' }
            },
            deleteStudentMsg(index){
                this.persons.splice(index,1)
            }
        }
    })
</script>
<html>